<div th:fragment="sidebar" sec:authorize="hasRole('ORGANISATION')">
    <aside class="w-[250px] min-h-screen bg-white border-r border-gray-200 flex flex-col py-6 px-4">
        <div class="mb-8 flex items-center justify-center">
            <img th:src="@{${organisation.logo != null ? organisation.logo : '/images/logo.png'}}"
                alt="Logo Organisation" class="h-12 w-auto" />
        </div>
        <nav class="flex flex-col gap-2">
            <a href="/organisation/dashboard"
                class="flex items-center gap-3 px-3 py-2 rounded text-gray-700 hover:bg-gray-100 text-sm font-medium">
                <i class="fa-solid fa-house"></i> Tableau de bord
            </a>
            <a href="/organisation/actions/create"
                class="flex items-center gap-3 px-3 py-2 rounded text-gray-700 hover:bg-gray-100 text-sm font-medium">
                <i class="fa-solid fa-plus"></i> Créer une action
            </a>
            <a href="/organisation/actions"
                class="flex items-center gap-3 px-3 py-2 rounded text-gray-700 hover:bg-gray-100 text-sm font-medium">
                <i class="fa-solid fa-clipboard-list"></i> Mes actions
            </a>
            <a href="/organisation/participants"
                class="flex items-center gap-3 px-3 py-2 rounded text-gray-700 hover:bg-gray-100 text-sm font-medium">
                <i class="fa-solid fa-users"></i> Participants
            </a>
            <a href="/organisation/dons"
                class="flex items-center gap-3 px-3 py-2 rounded text-gray-700 hover:bg-gray-100 text-sm font-medium">
                <i class="fa-solid fa-hand-holding-dollar"></i> Dons
            </a>
            <a href="/organisation/profil"
                class="flex items-center gap-3 px-3 py-2 rounded text-gray-700 hover:bg-gray-100 text-sm font-medium">
                <i class="fa-solid fa-pen"></i> Mon profil
            </a>
            <a href="/organisation/notifications"
                class="flex items-center gap-3 px-3 py-2 rounded text-gray-700 hover:bg-gray-100 text-sm font-medium relative">
                <i class="fa-solid fa-bell"></i> Notifications
                <span th:if="${globalUnreadNotifications != null && globalUnreadNotifications > 0}"
                    class="absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center justify-center bg-red-500 text-white text-xs font-bold rounded-full h-5 min-w-[1.25rem] px-1">
                    <span th:text="${globalUnreadNotifications}">0</span>
                </span>
            </a>
            <a href="/logout"
                class="flex items-center gap-3 px-3 py-2 rounded text-red-600 hover:bg-red-50 text-sm font-medium">
                <i class="fa-solid fa-right-from-bracket"></i> Déconnexion
            </a>
        </nav>
    </aside>
</div>

<script src="https://cdn.jsdelivr.net/npm/countup.js@2.0.8/dist/countUp.umd.js"></script>


<script>
    const countUp = window.CountUp;
    new countUp('count-actions', actions).start();
</script>